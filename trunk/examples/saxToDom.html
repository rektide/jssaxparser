<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
	<head>

		<script type="text/javascript" src="xml_samples.js"></script>
		<script type="text/javascript" src="../jssaxparser/sax.js"></script>
        <script type="text/javascript" src="../jssaxparser/dom_content_handler.js"></script>
		<script type="text/javascript">
		
		var xml = loadXml();
		
		function start() {
			var contentHandler = new DomContentHandler();
			var saxParser = new SAXParser(contentHandler);
            saxParser.parse(xml);
            var textarea = document.getElementById("msg");
            textarea.value = innerXML(contentHandler.document);
		}
		
        function innerXML(node) {
            if (node.innerXML) {
                return node.innerXML;
            } else {
                if (node.xml) {
                    return node.xml;
                } else {
                    if (typeof XMLSerializer != "undefined") {
                        var serializer = new XMLSerializer();
                        return serializer.serializeToString(node);
                    }
                }
            }
        }
        
		</script>
		
	</head>
	
	<body>
		<div>
            <input type="button" onclick="start()"/>
        </div>
		<textarea id="msg"cols="60" rows="20"></textarea>
	</body>
</html>